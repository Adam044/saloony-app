<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>تعطل خارجي</title>
  <style>
    :root{--bg:#0b1320;--fg:#ffffff;--muted:#93a5be;--accent:#06C167;--card:#121a2a;--border:#1e2a40}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(135deg,#0b1320,#0a0f1a);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto;display:flex;align-items:center;justify-content:center}
    .wrap{padding:16px;width:100%}
    .card{max-width:560px;margin:0 auto;background:var(--card);border:1px solid var(--border);border-radius:18px;box-shadow:0 20px 60px rgba(0,0,0,.35)}
    .head{padding:18px 20px;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:12px}
    .title{font-weight:800;font-size:1.25rem}
    .body{padding:24px 20px}
    .desc{color:var(--muted);line-height:1.7}
    .status{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:999px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);font-weight:700;margin-top:12px}
    .dot{width:10px;height:10px;border-radius:50%;background:#f59e0b;box-shadow:0 0 0 6px rgba(245,158,11,.15)}
    .actions{display:flex;gap:12px;margin-top:18px}
    .btn{appearance:none;border:0;border-radius:12px;padding:10px 16px;font-weight:800;background:var(--accent);color:#08101d;box-shadow:0 8px 24px rgba(6,193,103,.28);cursor:pointer}
    .btn.sec{background:transparent;color:var(--fg);border:1px solid var(--border)}
    .icon{width:54px;height:54px;border-radius:14px;display:grid;place-items:center;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12)}
    .icon svg{width:26px;height:26px;fill:var(--fg)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="dialog" aria-labelledby="t" aria-describedby="d">
      <div class="head">
        <div class="icon">
          <svg viewBox="0 0 24 24"><path d="M7 18h10a4 4 0 0 0 0-8h-.26A7 7 0 0 0 5 7.28m-2 9.54A5 5 0 0 1 7 9h6a5 5 0 0 1 0 10H7a5 5 0 0 1-4-2.18M3 3l18 18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </div>
        <div class="title" id="t">تعطل خارجي في خدمة الشبكة</div>
      </div>
      <div class="body">
        <p class="desc" id="d">هناك مشكلة لدى مزود الشبكة الخارجي. موقعنا آمن وسيعود للعمل قريباً. جرّب لاحقاً أو أعد المحاولة الآن.</p>
        <div class="status"><span class="dot"></span> حالة الشبكة غير مستقرة</div>
        <div class="actions">
          <button class="btn" id="retry">إعادة المحاولة</button>
          <button class="btn sec" id="home">الصفحة الرئيسية</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    function ping(){var c=new AbortController();var t=setTimeout(function(){try{c.abort()}catch(_){}} ,2000);return fetch('/',{method:'HEAD',cache:'no-store',signal:c.signal}).finally(function(){clearTimeout(t)})}
    document.getElementById('retry').addEventListener('click',function(){ping().then(function(r){if(r&&r.ok){var last=null;try{last=sessionStorage.getItem('last_path')}catch(_){ } window.location.href=last||'/' }})})
    document.getElementById('home').addEventListener('click',function(){window.location.href='/'})
    window.addEventListener('online',function(){var last=null;try{last=sessionStorage.getItem('last_path')}catch(_){ } window.location.href=last||'/'})
  </script>
</body>
</html>